(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{47099:(e,t,s)=>{Promise.resolve().then(s.bind(s,61693))},61693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var a=s(95155),n=s(12115),l=s(43463),r=s(69795);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,l.$)(t))}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:i("flex flex-col gap-1.5 px-6",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:i("leading-none font-semibold",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:i("text-muted-foreground text-sm",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:i("px-6",t),...s})}var m=s(43501);function u(e){let{className:t,...s}=e;return(0,a.jsx)(m.b,{"data-slot":"label",className:i("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function p(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:i("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}let j=e=>{let{annualPropertyTax:t,annualInsurance:s,monthlyHOA:l,onboardingCosts:r,propertyManagementRate:i,updateFixedCosts:h,onCalculate:m,hasCalculated:j}=e,[f,g]=(0,n.useState)(t.toString()),[y,v]=(0,n.useState)(s.toString()),[b,N]=(0,n.useState)(l.toString()),[w,I]=(0,n.useState)(r.toString()),[R,P]=(0,n.useState)(i.toString());(0,n.useEffect)(()=>{g(t.toString()),v(s.toString()),N(l.toString()),I(r.toString()),P(i.toString())},[t,s,l,r,i]);let{setAnnualPropertyTax:C,setAnnualInsurance:S,setMonthlyHOA:O,setOnboardingCosts:M,setPropertyManagementRate:A}=h;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{children:(0,a.jsx)(d,{children:"Adjust Fixed Costs"})}),(0,a.jsxs)(x,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"propertyTax",children:"Annual Property Tax"}),(0,a.jsx)(p,{id:"propertyTax",type:"text",value:f,onChange:e=>g(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"insurance",children:"Annual Insurance"}),(0,a.jsx)(p,{id:"insurance",type:"text",value:y,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"hoa",children:"Monthly HOA"}),(0,a.jsx)(p,{id:"hoa",type:"text",value:b,onChange:e=>N(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"onboarding",children:"Onboarding Costs"}),(0,a.jsx)(p,{id:"onboarding",type:"text",value:w,onChange:e=>I(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"propertyManagement",children:"Property Management (%)"}),(0,a.jsx)(p,{id:"propertyManagement",type:"text",value:R,onChange:e=>P(e.target.value)})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-center",children:(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>{C(Number(f)||0),S(Number(y)||0),O(Number(b)||0),M(Number(w)||0),A(Number(R)||0),m()},children:j?"Recalculate Results":"Calculate Results"})})]})]})},f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g=e=>"".concat(e.toFixed(2),"%"),y=e=>{let{scenario:t,type:s,propertyManagementRate:n}=e;return(0,a.jsxs)(o,{className:"best"===s?"bg-green-50":"bg-red-50",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"best"===s?"Best ROI Scenario":"Worst ROI Scenario"}),(0,a.jsx)(h,{children:"best"===s?"Highest return on investment":"Lowest return on investment"})]}),(0,a.jsx)(x,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Purchase Price:"})," ",f(t.purchasePrice)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Down Payment:"})," ",g(t.downPaymentPercentage)," (",f(t.downPayment),")"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Interest Rate:"})," ",g(t.interestRate)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Cap Rate:"})," ",g(t.capRate)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Monthly Income:"})," ",f(t.monthlyIncome)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Property Management:"})," ",f(t.monthlyManagementCost)," (",g(n),")"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Monthly Cashflow:"})," ",f(t.monthlyCashflow)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Annual Cashflow:"})," ",f(t.annualCashflow)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Initial Investment:"})," ",f(t.initialInvestment)]}),(0,a.jsxs)("div",{className:"font-bold",children:[(0,a.jsx)("span",{children:"ROI:"})," ",g(t.annualROI)]})]})})]})},v=e=>{let{scenarios:t}=e;return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"Top 10 Scenarios by ROI"}),(0,a.jsx)(h,{children:"Best return on investment scenarios"})]}),(0,a.jsx)(x,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"Purchase Price"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Down Payment"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Interest Rate"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Cap Rate"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Annual Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Initial Investment"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"ROI"})]})}),(0,a.jsx)("tbody",{children:t.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-gray-50":"",children:[(0,a.jsx)("td",{className:"p-2",children:f(e.purchasePrice)}),(0,a.jsxs)("td",{className:"p-2",children:[g(e.downPaymentPercentage)," (",f(e.downPayment),")"]}),(0,a.jsx)("td",{className:"p-2",children:g(e.interestRate)}),(0,a.jsx)("td",{className:"p-2",children:g(e.capRate)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyCashflow)}),(0,a.jsx)("td",{className:"p-2",children:f(e.annualCashflow)}),(0,a.jsx)("td",{className:"p-2",children:f(e.initialInvestment)}),(0,a.jsx)("td",{className:"p-2 font-bold",children:g(e.annualROI)})]},t))})]})})})]})},b=e=>{let{scenarios:t}=e,s=t.filter(e=>7===e.interestRate&&e.initialInvestment<35e4&&e.capRate<=10).sort((e,t)=>t.annualCashflow-e.annualCashflow).slice(0,10);return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"Top 10 Scenarios by Annual Cashflow"}),(0,a.jsx)(h,{children:"Best annual cashflow scenarios (7.0% interest rate, initial investment below $350,000, and cap rate at 10% or below)"})]}),(0,a.jsx)(x,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"Purchase Price"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Down Payment"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Interest Rate"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Cap Rate"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Annual Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Initial Investment"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"ROI"})]})}),(0,a.jsx)("tbody",{children:s.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-gray-50":"",children:[(0,a.jsx)("td",{className:"p-2",children:f(e.purchasePrice)}),(0,a.jsxs)("td",{className:"p-2",children:[g(e.downPaymentPercentage)," (",f(e.downPayment),")"]}),(0,a.jsx)("td",{className:"p-2",children:g(e.interestRate)}),(0,a.jsx)("td",{className:"p-2",children:g(e.capRate)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyCashflow)}),(0,a.jsx)("td",{className:"p-2 font-bold",children:f(e.annualCashflow)}),(0,a.jsx)("td",{className:"p-2",children:f(e.initialInvestment)}),(0,a.jsx)("td",{className:"p-2",children:g(e.annualROI)})]},t))})]})})})]})},N=e=>{let{title:t,description:s,scenarios:n}=e;return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:t}),(0,a.jsx)(h,{children:s})]}),(0,a.jsx)(x,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"Down Payment %"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Down Payment $"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Mortgage"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Expenses"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Income"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Property Mgmt"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Monthly Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Annual Cashflow"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"Initial Investment"}),(0,a.jsx)("th",{className:"p-2 text-left",children:"ROI"})]})}),(0,a.jsx)("tbody",{children:n.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-gray-50":"",children:[(0,a.jsx)("td",{className:"p-2",children:g(e.downPaymentPercentage)}),(0,a.jsx)("td",{className:"p-2",children:f(e.downPayment)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyMortgagePayment)}),(0,a.jsx)("td",{className:"p-2",children:f(e.totalMonthlyExpenses)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyIncome)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyManagementCost)}),(0,a.jsx)("td",{className:"p-2",children:f(e.monthlyCashflow)}),(0,a.jsx)("td",{className:"p-2",children:f(e.annualCashflow)}),(0,a.jsx)("td",{className:"p-2",children:f(e.initialInvestment)}),(0,a.jsx)("td",{className:"p-2 font-bold",children:g(e.annualROI)})]},t))})]})})})]})},w=e=>{let{scenarios:t,purchasePrices:s,interestRates:l,capRates:r}=e,[i,m]=(0,n.useState)(7e5),[p,j]=(0,n.useState)(7),[y,v]=(0,n.useState)(10),[b,w]=(0,n.useState)([]),I=n.useCallback(()=>{let e=t.filter(e=>e.purchasePrice===i&&e.interestRate===p&&e.capRate===y);e.sort((e,t)=>e.downPaymentPercentage-t.downPaymentPercentage),w(e)},[t,i,p,y]);return(0,n.useEffect)(()=>{I()},[I]),(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"Property Scenarios"}),(0,a.jsx)(h,{children:"Customize and compare different down payment options"})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"purchasePrice",children:"Purchase Price"}),(0,a.jsx)("select",{id:"purchasePrice",className:"w-full p-2 border rounded",value:i,onChange:e=>m(Number(e.target.value)),children:s.map(e=>(0,a.jsx)("option",{value:e,children:f(e)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"interestRate",children:"Interest Rate"}),(0,a.jsx)("select",{id:"interestRate",className:"w-full p-2 border rounded",value:p,onChange:e=>j(Number(e.target.value)),children:l.map(e=>(0,a.jsx)("option",{value:e,children:g(e)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"capRate",children:"Cap Rate"}),(0,a.jsx)("select",{id:"capRate",className:"w-full p-2 border rounded",value:y,onChange:e=>v(Number(e.target.value)),children:r.map(e=>(0,a.jsx)("option",{value:e,children:g(e)},e))})]})]}),b.length>0?(0,a.jsx)(N,{title:"".concat(f(i)," Property Scenarios (").concat(g(p)," Interest, ").concat(g(y)," Cap Rate)"),description:"Comparison of different down payment options",scenarios:b}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No scenarios match the selected criteria. Try different values."})]})]})};var I=s(58581),R=s(394),P=s(15255),C=s(12800),S=s(66963),O=s(27112),M=s(86354),A=s(23021);let D=e=>{let{data:t}=e;return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"ROI Distribution by Purchase Price"}),(0,a.jsx)(h,{children:"Average ROI and positive cashflow percentage"})]}),(0,a.jsx)(x,{className:"h-80",children:(0,a.jsx)(I.u,{width:"100%",height:"100%",children:(0,a.jsxs)(R.E,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(P.d,{strokeDasharray:"3 3"}),(0,a.jsx)(C.W,{dataKey:"purchasePrice",label:{value:"Purchase Price ($K)",position:"insideBottom",offset:-5}}),(0,a.jsx)(S.h,{yAxisId:"left",label:{value:"Avg ROI (%)",angle:-90,position:"insideLeft"}}),(0,a.jsx)(S.h,{yAxisId:"right",orientation:"right",label:{value:"% Positive Cashflow",angle:90,position:"insideRight"}}),(0,a.jsx)(O.m,{formatter:(e,t)=>["number"==typeof e?e.toFixed(2)+"%":e,"avgROI"===t?"Average ROI":"% Positive Cashflow"]}),(0,a.jsx)(M.s,{}),(0,a.jsx)(A.y,{yAxisId:"left",dataKey:"avgROI",name:"Average ROI",fill:"#8884d8"}),(0,a.jsx)(A.y,{yAxisId:"right",dataKey:"positiveCashflowPercentage",name:"% Positive Cashflow",fill:"#82ca9d"})]})})})]})};var k=s(94973),E=s(16161);let F=e=>{let{data:t}=e;return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"Monthly Cashflow by Down Payment"}),(0,a.jsx)(h,{children:"Average monthly cashflow based on down payment percentage"})]}),(0,a.jsx)(x,{className:"h-80",children:(0,a.jsx)(I.u,{width:"100%",height:"100%",children:(0,a.jsxs)(k.b,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(P.d,{strokeDasharray:"3 3"}),(0,a.jsx)(C.W,{dataKey:"downPaymentPercentage",label:{value:"Down Payment (%)",position:"insideBottom",offset:-5}}),(0,a.jsx)(S.h,{label:{value:"Avg Monthly Cashflow ($)",angle:-90,position:"insideLeft"}}),(0,a.jsx)(O.m,{formatter:e=>["number"==typeof e?"".concat(e.toFixed(2)):e,"Average Monthly Cashflow"]}),(0,a.jsx)(M.s,{}),(0,a.jsx)(E.N,{type:"monotone",dataKey:"avgMonthlyCashflow",name:"Average Monthly Cashflow",stroke:"#8884d8",activeDot:{r:8}})]})})})]})},K=e=>{let{data:t}=e;return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"ROI Distribution by Cap Rate"}),(0,a.jsx)(h,{children:"Min, average, and max ROI for each cap rate"})]}),(0,a.jsx)(x,{className:"h-80",children:(0,a.jsx)(I.u,{width:"100%",height:"100%",children:(0,a.jsxs)(k.b,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(P.d,{strokeDasharray:"3 3"}),(0,a.jsx)(C.W,{dataKey:"capRate",label:{value:"Cap Rate (%)",position:"insideBottom",offset:-5}}),(0,a.jsx)(S.h,{label:{value:"ROI (%)",angle:-90,position:"insideLeft"}}),(0,a.jsx)(O.m,{formatter:e=>["number"==typeof e?"".concat(e.toFixed(2),"%"):e,"ROI"]}),(0,a.jsx)(M.s,{}),(0,a.jsx)(E.N,{type:"monotone",dataKey:"minROI",name:"Min ROI",stroke:"#ff8042",dot:{r:3}}),(0,a.jsx)(E.N,{type:"monotone",dataKey:"avgROI",name:"Avg ROI",stroke:"#8884d8",dot:{r:3}}),(0,a.jsx)(E.N,{type:"monotone",dataKey:"maxROI",name:"Max ROI",stroke:"#82ca9d",dot:{r:3}})]})})})]})};var B=s(46699),T=s(40798),L=s(8710),_=s(67732);let $=e=>{let{data:t}=e,s=t.map((e,t)=>({...e,index:t}));return(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:"Scenario Distribution"}),(0,a.jsx)(h,{children:"All scenarios plotted by ROI and initial investment"})]}),(0,a.jsx)(x,{className:"h-80",children:(0,a.jsx)(I.u,{width:"100%",height:"100%",children:(0,a.jsxs)(B.t,{margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(P.d,{strokeDasharray:"3 3"}),(0,a.jsx)(C.W,{type:"number",dataKey:"initialInvestment",name:"Initial Investment",label:{value:"Initial Investment ($)",position:"insideBottom",offset:-5}}),(0,a.jsx)(S.h,{type:"number",dataKey:"annualROI",name:"ROI",label:{value:"ROI (%)",angle:-90,position:"insideLeft"}}),(0,a.jsx)(T.K,{type:"number",range:[50,50]}),(0,a.jsx)(O.m,{cursor:{strokeDasharray:"3 3"},formatter:(e,t)=>{let s;return["number"==typeof e?"annualROI"===t?"".concat(e.toFixed(2),"%"):"".concat(e.toLocaleString()):e,"annualROI"===t?"Annual ROI":"Initial Investment"]}}),(0,a.jsx)(M.s,{}),(0,a.jsx)(L.X,{name:"All Scenarios",data:s,fill:"#8884d8",children:s.map((e,t)=>(0,a.jsx)(_.f,{fill:e.isPositiveCashflow?"#82ca9d":"#ff8042"},"cell-".concat(t)))})]})})})]})},W=e=>{let{purchasePrices:t,downPaymentPercentages:s,interestRates:a,capRates:n,annualPropertyTax:l,annualInsurance:r,monthlyHOA:i,onboardingCosts:o,propertyManagementRate:c}=e,d=[];t.forEach(e=>{s.forEach(t=>{a.forEach(s=>{n.forEach(a=>{let n=t/100*e,h=e-n,x=s/100/12,m=x*Math.pow(1+x,360)*h/(Math.pow(1+x,360)-1),u=l/12,p=r/12,j=m+u+p+i,f=a/100*e/12,g=c/100*f,y=f-j-g,v=12*y,b=n+o,N=v/b*100,w=[];for(let e=1;e<=5;e++){let t={year:e,monthlyExpenses:j,monthlyManagementCost:g,monthlyIncome:f,monthlyCashflow:y,annualExpenses:12*j,annualManagementCost:12*g,annualIncome:12*f,annualCashflow:v,cumulativeCashflow:v*e};w.push(t)}d.push({purchasePrice:e,downPaymentPercentage:t,interestRate:s,capRate:a,downPayment:n,loanAmount:h,monthlyMortgagePayment:m,monthlyPropertyTax:u,monthlyInsurance:p,monthlyHOA:i,monthlyManagementCost:g,totalMonthlyExpenses:j,monthlyIncome:f,monthlyCashflow:y,annualCashflow:v,initialInvestment:b,annualROI:N,fiveYearData:w,isPositiveCashflow:y>0})})})})}),d.sort((e,t)=>t.annualROI-e.annualROI);let h=d.slice(0,10),x=d.length>0?d[0]:null,m=d.length>0?d[d.length-1]:null,u=H(d),p=U(d),j=z(d);return{allScenarios:d,topScenarios:h,bestScenario:x,worstScenario:m,specificScenarios:[],cashflowByDownPayment:u,roiByCapRate:p,roiByPurchasePrice:j}},H=e=>{let t={};return e.forEach(e=>{let{downPaymentPercentage:s}=e;t[s]||(t[s]=[]),t[s].push(e)}),Object.keys(t).map(e=>{let s=Number(e),a=t[s];return{downPaymentPercentage:s,avgMonthlyCashflow:a.reduce((e,t)=>e+t.monthlyCashflow,0)/a.length}}).sort((e,t)=>e.downPaymentPercentage-t.downPaymentPercentage)},U=e=>{let t={};return e.forEach(e=>{let{capRate:s}=e;t[s]||(t[s]=[]),t[s].push(e)}),Object.keys(t).map(e=>{let s=Number(e),a=t[s],n=a.map(e=>e.annualROI),l=Math.min(...n),r=Math.max(...n);return{capRate:s,minROI:l,avgROI:a.reduce((e,t)=>e+t.annualROI,0)/a.length,maxROI:r}}).sort((e,t)=>e.capRate-t.capRate)},z=e=>{let t={};return e.forEach(e=>{let{purchasePrice:s}=e;t[s]||(t[s]=[]),t[s].push(e)}),Object.keys(t).map(e=>{let s=Number(e),a=t[s];return{purchasePrice:s/1e3,avgROI:a.reduce((e,t)=>e+t.annualROI,0)/a.length,positiveCashflowPercentage:a.filter(e=>e.isPositiveCashflow).length/a.length*100}}).sort((e,t)=>e.purchasePrice-t.purchasePrice)},Q=e=>{if(0===e.length)return;let t="Purchase Price,Down Payment %,Down Payment $,Interest Rate,Cap Rate,Loan Amount,Monthly Mortgage,Monthly Property Tax,Monthly Insurance,Monthly HOA,Monthly Management,Total Monthly Expenses,Monthly Income,Monthly Cashflow,Annual Cashflow,Initial Investment,ROI\n";e.forEach(e=>{let s=[e.purchasePrice,e.downPaymentPercentage,e.downPayment,e.interestRate,e.capRate,e.loanAmount,e.monthlyMortgagePayment,e.monthlyPropertyTax,e.monthlyInsurance,e.monthlyHOA,e.monthlyManagementCost,e.totalMonthlyExpenses,e.monthlyIncome,e.monthlyCashflow,e.annualCashflow,e.initialInvestment,e.annualROI];t+=s.join(",")+"\n"});let s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download","property_investment_scenarios.csv"),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},X=()=>{let e=(0,n.useMemo)(()=>[5e5,6e5,7e5,8e5,9e5],[]),t=(0,n.useMemo)(()=>[25,35,45,55,65,75],[]),s=(0,n.useMemo)(()=>[6,6.5,7,7.5,8],[]),l=(0,n.useMemo)(()=>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[]),[r,i]=(0,n.useState)(5e3),[o,c]=(0,n.useState)(2400),[d,h]=(0,n.useState)(300),[x,m]=(0,n.useState)(25e3),[u,p]=(0,n.useState)(25),[f,g]=(0,n.useState)([]),[N,I]=(0,n.useState)([]),[R,P]=(0,n.useState)([]),[C,S]=(0,n.useState)([]),[O,M]=(0,n.useState)([]),[A,k]=(0,n.useState)(null),[E,B]=(0,n.useState)(null),[T,L]=(0,n.useState)(!1),_=(0,n.useCallback)(()=>{console.log("handleCalculate called with values:",{annualPropertyTax:r,annualInsurance:o,monthlyHOA:d,onboardingCosts:x,propertyManagementRate:u});let a=W({purchasePrices:e,downPaymentPercentages:t,interestRates:s,capRates:l,annualPropertyTax:r,annualInsurance:o,monthlyHOA:d,onboardingCosts:x,propertyManagementRate:u});console.log("Calculation results:",{scenariosCount:a.allScenarios.length,topScenariosCount:a.topScenarios.length,hasBestScenario:!!a.bestScenario,hasWorstScenario:!!a.worstScenario}),g(a.allScenarios),I(a.topScenarios),k(a.bestScenario),B(a.worstScenario),P(a.cashflowByDownPayment),S(a.roiByCapRate),M(a.roiByPurchasePrice),L(!0)},[e,t,s,l,r,o,d,x,u]);return(0,n.useEffect)(()=>{_()},[_]),(0,a.jsxs)("div",{className:"flex flex-col space-y-8 w-full p-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"STR Investment Property Analysis Tool"}),(0,a.jsx)(j,{annualPropertyTax:r,annualInsurance:o,monthlyHOA:d,onboardingCosts:x,propertyManagementRate:u,updateFixedCosts:{setAnnualPropertyTax:i,setAnnualInsurance:c,setMonthlyHOA:h,setOnboardingCosts:m,setPropertyManagementRate:p},onCalculate:_,hasCalculated:T}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A&&(0,a.jsx)(y,{scenario:A,type:"best",propertyManagementRate:u}),E&&(0,a.jsx)(y,{scenario:E,type:"worst",propertyManagementRate:u})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)(D,{data:O}),(0,a.jsx)(F,{data:R}),(0,a.jsx)(K,{data:C}),(0,a.jsx)($,{data:f})]}),(0,a.jsx)(b,{scenarios:f}),(0,a.jsx)(v,{scenarios:N}),(0,a.jsx)(w,{scenarios:f,purchasePrices:e,interestRates:s,capRates:l}),(0,a.jsx)("div",{className:"flex justify-center mt-8 mb-8",children:(0,a.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg",onClick:()=>{Q(f)},disabled:0===f.length,children:"Download All Raw Data"})})]})};function q(){return(0,a.jsx)("main",{className:"min-h-screen p-4",children:(0,a.jsx)(X,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[644,441,587,358],()=>t(47099)),_N_E=e.O()}]);